<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight</title>

        <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet"> 
        <link rel="stylesheet" href="{{ url_for('static', filename='css/linearicons.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/linearicons.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/magnific-popup.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/nice-select.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/animate.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/justin.css') }}">


    </head>
    <body>	
        <section class="about-banner relative">
            <div class="overlay overlay-bg"></div>
            <div class="container">				
              <div class="row d-flex align-items-center justify-content-center">
                <div class="about-content col-lg-12">
                  <h1 class="text-white">
                    Flights				
                  </h1>	
                  <p class="text-white link-nav"><a href="/home">Home </a>  <span class="lnr lnr-arrow-right"></span>  <a href="/home"> Flight</a></p>
                </div>	
              </div>
            </div>
        </section>
        
        <div class="container">
            <h1 class="mt-1 mb-1">Daftar Penerbangan</h1>
            {% for i in data %}
            <div class="row">
              <div class="col-lg-12">
                <div class="card mb-3">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-lg-4">
                        <h2 class="ms-5">{{ i['nama_maskapai'] }}</h2>
                        <p>{{ i['kode_penerbangan'] }}</p>
                        <div class="rounded-pill border p-1 ms-5" style="width: fit-content;">
                          <div class="row align-items-center">
                            <div class="col-lg-5 ms-2">
                              <i class="bi bi-suitcase-lg"></i>
                            </div>
                            <div class="col-lg-6 mt-1">
                              <h6 class="d-flex align-items-center">{{ i['max_luggage'] }}kg</h6>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-4" style="text-align: center;">
                        {% set time_depart = i['dept_time'].split(' ')[4] %}
                        {% set formatted_time_depart = time_depart[:-3] %}
                        <h3>{{ formatted_time_depart }}</h3>
                        <i class="bi bi-arrow-right"></i>
                        {% set time_arr = i['arriv_time'].split(' ')[4] %}
                        {% set formatted_time_arr = time_arr[:-3] %}
                        <h3>{{ formatted_time_arr }}</h3>
                        
                        {% set departure_time = datetime.strptime(i['dept_time'], '%a, %d %b %Y %H:%M:%S %Z') %}
                        {% set arrival_time = datetime.strptime(i['arriv_time'], '%a, %d %b %Y %H:%M:%S %Z') %}
                        {% set duration = arrival_time - departure_time %}
                        {% set duration_hours = duration.seconds // 3600 %}
                        {% set duration_minutes = (duration.seconds // 60) % 60 %}
              
                        <p class="mt-0" style="vertical-align: 2px;">
                            {{ duration_hours }}jam {{ duration_minutes }}menit
                        </p>
                      </div>
                      <div class="col-lg-4" style="text-align: right;">
                        <h3 style="color: orange;">Rp {{ '{:,.0f}'.format(i['harga']) }}/orang</h3>
                        <hr>
                        <a href="/flights/{{ i['kode_penerbangan'] }}">
                            <button type="button" class="btn btn-warning">Pesan</button>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        










        
        <script src="{{ url_for('static', filename='js/vendor/jquery-2.2.4.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/vendor/bootstrap.min.js') }}"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script> <!-- Update the API key -->
        <script src="{{ url_for('static', filename='js/jquery-ui.js') }}"></script>
        <script src="{{ url_for('static', filename='js/easing.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/hoverIntent.js') }}"></script>
        <script src="{{ url_for('static', filename='js/superfish.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.ajaxchimp.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.magnific-popup.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.nice-select.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/mail-script.js') }}"></script>
        <script src="{{ url_for('static', filename='js/main.js') }}"></script>
        
    </body>
</html>